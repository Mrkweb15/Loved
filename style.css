:root{--text:#0b1220;--muted:#586070;--card-bg:rgba(255,255,255,.18);--card-border:rgba(255,255,255,.35);--btn-bg:#0b1220;--btn-fg:#fff;--accent:#ffcc66}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#9fd0ff;color:var(--text);overflow:hidden}

#scene{position:fixed;inset:0;z-index:-1}
#skyCanvas{position:absolute;inset:0;width:100%;height:100%;z-index:0}
#cloudImgs{position:absolute;inset:0;pointer-events:none;z-index:2}
#weatherCanvas{position:absolute;inset:0;width:100%;height:100%;z-index:3}
#landImage{position:absolute;left:0;right:0;bottom:0;margin:0;width:100%;height:auto;pointer-events:none;z-index:1}
#clouds{position:absolute;inset:0;pointer-events:none}

main#ui{position:relative;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px}
.card{max-width:720px;width:min(92vw,720px);backdrop-filter:saturate(1.2) blur(12px);background:var(--card-bg);border:1px solid var(--card-border);border-radius:20px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,.18)}
.card-text{font-size:clamp(18px,2.2vw,26px);line-height:1.4}
.card-actions{margin-top:18px;display:flex;gap:12px}
.card-actions button{appearance:none;border:0;background:var(--btn-bg);color:var(--btn-fg);padding:12px 16px;border-radius:12px;font-weight:600;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease}
.card-actions button:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.25)}
.card-actions button:active{transform:translateY(0)}

.info{margin-top:20px;text-align:center}
.info-row{display:inline-flex;gap:10px;align-items:center;background:var(--card-bg);border:1px solid var(--card-border);backdrop-filter:blur(8px);padding:10px 14px;border-radius:100px}
.notice{margin-top:10px;font-size:14px}

@media (max-width:480px){.card{padding:22px}.card-actions button{padding:11px 14px}}

body::after{content:"";position:fixed;inset:-10%;z-index:-2;pointer-events:none;opacity:.0;transition:opacity .6s ease;background:radial-gradient(1200px 1200px at 12% 15%, rgba(255,230,160,.55), transparent 60%),radial-gradient(800px 800px at 70% 10%, rgba(255,210,120,.35), transparent 60%)}
body.weather-sunny::after{opacity:.7}
body.weather-clear::after{opacity:.35}

body.time-sunrise{background:linear-gradient(180deg,#ffb6a1 0%,#ffd9a8 33%,#a4d5ff 100%)}
body.time-noon{background:linear-gradient(180deg,#7ec9ff 0%,#9fd8ff 50%,#d9f2ff 100%)}
body.time-afternoon{background:linear-gradient(180deg,#a4d5ff 0%,#f7e7b6 55%,#ffd4a8 100%)}
body.time-sunset{background:linear-gradient(180deg,#ffd1a1 0%,#ffb074 40%,#ff8c42 75%,#e4632a 100%)}
body.time-night{background:linear-gradient(180deg,#071a33 0%,#0a2242 50%,#0d1f3b 100%)}

.stars{position:absolute;inset:0;pointer-events:none}

.cloud{position:absolute;top:-10%;background:#fff;border-radius:100px;filter:drop-shadow(0 6px 10px rgba(0,0,0,.2));opacity:.0;animation:cloudFloat linear infinite;transform:translate3d(0,0,0)}
.cloud::before,.cloud::after{content:"";position:absolute;background:#fff}
.cloud::before{width:60%;height:80%;left:10%;top:-35%;border-radius:100px}
.cloud::after{width:45%;height:70%;right:10%;top:-25%;border-radius:100px}

@keyframes cloudFloat{0%{transform:translateX(-30vw);opacity:0}10%{opacity:.85}90%{opacity:.85}100%{transform:translateX(130vw);opacity:0}}

body.weather-cloudy #clouds, body.weather-rainy #clouds{display:block}
#clouds{display:none}

.cloud-img{position:absolute;top:-10%;will-change:transform;opacity:.0;filter:drop-shadow(0 6px 10px rgba(0,0,0,.18))}
.cloud-img.rainy{filter:brightness(.85) saturate(.9) drop-shadow(0 6px 12px rgba(0,0,0,.3))}
@keyframes cloudDrift{0%{transform:translateX(-30vw);opacity:0}10%{opacity:.9}90%{opacity:.9}100%{transform:translateX(130vw);opacity:0}}

body.weather-rainy{background-blend-mode:normal}

.hidden{display:none}
.devtools{position:fixed;left:0;right:0;bottom:max(8px, env(safe-area-inset-bottom));z-index:5;margin-top:0;display:flex;flex-direction:column;align-items:center;gap:10px;padding:0 12px}
.pill{appearance:none;border:1px solid var(--card-border);background:var(--card-bg);padding:10px 14px;border-radius:100px;cursor:pointer}
.dev-panel{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;align-items:end;background:var(--card-bg);border:1px solid var(--card-border);backdrop-filter:blur(8px);padding:12px;border-radius:16px;max-width:720px;width:min(96vw,720px);max-height:48vh;overflow:auto;-webkit-overflow-scrolling:touch}
.dev-panel .row{display:flex;flex-direction:column;gap:6px}
.dev-panel label{font-size:13px;color:var(--muted)}
.dev-panel select{padding:8px 10px;border-radius:10px;border:1px solid var(--card-border);background:#fff;width:100%}
.dev-panel .actions{grid-column:1/-1;display:flex;gap:10px}
.dev-panel .ghost{background:transparent;color:var(--text);border:1px dashed var(--card-border)}
.dev-panel[hidden]{display:none!important}
[hidden]{display:none!important}

.switch-row{width:100%;display:flex;justify-content:center}
.switch{display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.switch input{position:absolute;opacity:0;pointer-events:none}
.slider{position:relative;width:56px;height:28px;background:var(--card-border);border-radius:28px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.08)}
.slider::after{content:"";position:absolute;top:3px;left:3px;width:22px;height:22px;border-radius:50%;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.2);transition:transform .18s ease, background .18s ease}
.switch input:checked + .slider{background:#4cd964}
.switch input:checked + .slider::after{transform:translateX(28px);background:#fff}
.switch-text{font-weight:600}
